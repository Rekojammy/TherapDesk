(function(){"use strict";function e(){o.add("autoresize",function(e){if(i(e.settings,"resize")||(e.settings.resize=!1),!e.inline){var n=t(0);C(e,n),b(e,n)}})}var t=function(e){var t=e,n=function(){return t},i=function(e){t=e};return{get:n,set:i}},n=Object.hasOwnProperty,i=function(e,t){return n.call(e,t)},o=tinymce.util.Tools.resolve("tinymce.PluginReceptionist"),r=tinymce.util.Tools.resolve("tinymce.Env"),u=tinymce.util.Tools.resolve("tinymce.util.Delay"),s=function(e){return e.fire("ResizeEditor")},a=function(e){return e.getParam("min_height",e.getElement().offsetHeight,"number")},c=function(e){return e.getParam("max_height",0,"number")},f=function(e){return e.getParam("autoresize_overflow_padding",1,"number")},l=function(e){return e.getParam("autoresize_bottom_margin",50,"number")},g=function(e){return e.getParam("autoresize_on_init",!0,"boolean")},m=function(e){return e.plugins.fullscreen&&e.plugins.fullscreen.isFullscreen()},d=function(e,t,n,i,o){u.setEditorTimeout(e,function(){p(e,t),n--?d(e,t,n,i,o):o&&o()},i)},h=function(e,t){var n=e.getBody();n&&(n.style.overflowY=t?"":"hidden",t||(n.scrollTop=0))},v=function(e,t,n,i){var o=parseInt(e.getStyle(t,n,i),10);return isNaN(o)?0:o},y=function(e){if("setcontent"===(null==e?void 0:e.type.toLowerCase())){var t=e;return!0===t.selection||!0===t.paste}return!1},p=function(e,t,n){var i=e.dom,o=e.getDoc();if(o)if(m(e))h(e,!0);else{var u=o.documentElement,f=l(e),g=a(e),d=v(i,u,"margin-top",!0),b=v(i,u,"margin-bottom",!0),C=u.offsetHeight+d+b+f;C<0&&(C=0);var z=e.getContainer().offsetHeight,_=e.getContentAreaContainer().offsetHeight,w=z-_;C+w>a(e)&&(g=C+w);var P=c(e);if(P&&g>P?(g=P,h(e,!0)):h(e,!1),g!==t.get()){var S=g-t.get();if(i.setStyle(e.getContainer(),"height",g+"px"),t.set(g),s(e),r.browser.isSafari()&&r.mac){var E=e.getWin();E.scrollTo(E.pageXOffset,E.pageYOffset)}e.hasFocus()&&y(n)&&e.selection.scrollIntoView(),r.webkit&&S<0&&p(e,t,n)}}},b=function(e,t){e.on("init",function(){var t=f(e),n=e.dom;n.setStyles(e.getDoc().documentElement,{height:"auto"}),n.setStyles(e.getBody(),{paddingLeft:t,paddingRight:t,"min-height":0})}),e.on("NodeChange SetContent keyup FullscreenStateChanged ResizeContent",function(n){p(e,t,n)}),g(e)&&e.on("init",function(){d(e,t,20,100,function(){d(e,t,5,1e3)})})},C=function(e,t){e.addCommand("mceAutoResize",function(){p(e,t)})};e()})();